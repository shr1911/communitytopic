<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>API Usage - community-topic</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "API Usage";
        var mkdocs_page_input_path = "api-reference.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> community-topic
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation-guide/">Installation Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../getting-started/">Getting Started</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">API Usage</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#pre-processing-module">Pre-Processing Module</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#method-do_preprocessing">Method: do_preprocessing</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns">Returns</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#community-topic-module">Community Topic Module</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#class-constructor-__init__">Class constructor: __init__ </a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_1">Parameters</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#method-fit">Method: fit </a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#method-fit_hierarchical">Method: fit_hierarchical </a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameter">Parameter</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#method-get_topics_words">Method: get_topics_words </a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#returns_1">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#method-get_topics_words_topn">Method: get_topics_words_topn </a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameter_1">Parameter</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_2">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#method-get_topics">Method: get_topics </a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#returns_3">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#method-get_topic_words_hierarchical">Method: get_topic_words_hierarchical </a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#returns_4">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#method-get_topics_hierarchical">Method: get_topics_hierarchical </a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameter_2">Parameter</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_5">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#method-get_topics_hierarchical_1">Method: get_topics_hierarchical </a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameter_3">Parameter</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_6">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#method-get_hierarchy_tree">Method: get_hierarchy_tree </a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#returns_7">Returns</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">community-topic</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>API Usage</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="api-usage">API Usage</h1>
<p>There are two important classes in the library as follows:-
- PreProcessing
- CommunityTopic</p>
<p>We will see API usage of both of them.</p>
<h2 id="pre-processing-module">Pre-Processing Module</h2>
<h3 id="method-do_preprocessing"><u>Method: <code>do_preprocessing</code></u></h3>
<p>The <code>do_preprocessing</code> method performs pre-processing on a given training and testing corpus to convert it into a format suitable for <code>CommunityTopic</code>.</p>
<h4 id="parameters">Parameters</h4>
<pre><code class="language-python">do_preprocessing(train=None, test=None, ner=1, pos_filter=0, phrases='npmi', phrase_threshold=0.35, language='en')
</code></pre>
<ul>
<li>
<p><code>train</code> : <code>str</code></p>
<p>Input training corpus</p>
</li>
<li>
<p><code>test</code> : <code>str</code></p>
<p>Input testing corpus</p>
</li>
<li>
<p><code>ner</code> : <code>int</code></p>
<ul>
<li>Named Entity Recognition flag </li>
<li>Possible values = [0, 1]</li>
<li>0 - to not use NER </li>
<li>1 - to use NER</li>
</ul>
</li>
<li>
<p><code>pos_filter</code> : <code>int</code></p>
<ul>
<li>Part-of-Speech filter for extracting features and marking the words in a text with labels for entity extraction</li>
<li>Possible values = [0, 1, 2, 3]</li>
<li>0 - No POS filtering </li>
<li>1 - Keep only adjectives, adverbs, nouns, proper nouns, and verbs </li>
<li>2 - Keep only adjectives, nouns, proper nouns </li>
<li>3 - Keep only nouns, proper nouns</li>
</ul>
</li>
<li>
<p><code>phrases</code> : <code>str</code></p>
<p>Currently using 'npmi' type for phrase detection</p>
</li>
<li>
<p><code>phrase_threshold</code> : <code>float</code></p>
<ul>
<li>Phrase detection threshold </li>
<li>Currently using 0.35</li>
</ul>
</li>
<li>
<p><code>language</code> : <code>str</code></p>
<ul>
<li>Possible values = ['en', 'it', 'fr', 'de', 'es'] </li>
<li>'en' - English</li>
<li>'it' - Italian</li>
<li>'fr' - French</li>
<li>'de' - German</li>
<li>'es' - Spanish</li>
<li>Language of the training and testing corpus</li>
</ul>
</li>
</ul>
<h4 id="returns">Returns</h4>
<pre><code class="language-python">tokenized_train_sents
tokenized_train_docs
tokenized_test_docs
dictionary
</code></pre>
<ul>
<li>
<p><code>tokenized_train_sents</code> : list of list</p>
<p>Returns pre-processed training corpus as sentences (in list of words form)</p>
</li>
<li>
<p><code>tokenized_train_docs</code> : list of list</p>
<p>Returns pre-processed training corpus as docs (in list of words form)</p>
</li>
<li>
<p><code>tokenized_test_docs</code> : list of list</p>
<p>Returns pre-processed testing corpus as sentences (in list of words form)</p>
</li>
<li>
<p><code>dictionary</code> : dict</p>
<ul>
<li>Gensim dictionary object that tracks frequencies and can filter vocab</li>
<li>Keys are id for words</li>
<li>Values are words</li>
</ul>
</li>
</ul>
<hr style="border: 2px solid grey">

<h2 id="community-topic-module">Community Topic Module</h2>
<h3 id="class-constructor-__init__"><u>Class constructor: <code>__init__</code> </u></h3>
<pre><code class="language-python">__init__(self, train_corpus=None, dictionary=None, edge_weight='count',
         weight_threshold=0.0, cd_algorithm='leiden', resolution_parameter=1.0,
         network_window='sentence')
</code></pre>
<h4 id="parameters_1">Parameters</h4>
<ul>
<li>
<p><code>train_corpus</code> : <code>list of list</code>  (of string)</p>
<ul>
<li>Preprocessed sentences of training corpus (List of list)</li>
<li>It contains pre-processed tokenized sentence as list of list</li>
</ul>
</li>
<li>
<p><code>dictionary</code> : <code>dict</code></p>
<ul>
<li>Gensim dictionary object that tracks frequencies and can filter vocab </li>
<li>keys are id for words </li>
<li>values are words</li>
</ul>
</li>
<li>
<p><code>edge_weight</code>: <code>str</code></p>
<ul>
<li>It is weight of edges which comes from the frequency of co-occurrence. </li>
<li>Possible values: ["count", "npmi"]</li>
<li>"count":  Raw count of possible edges as the edge weight.</li>
<li>"npmi": Weighing scheme which uses Normalized Pointwise Mutual Information (NPMI) between terms</li>
</ul>
</li>
<li>
<p><code>weight_threshold</code> : <code>float</code></p>
<ul>
<li>The edges can be thresholded, i.e. those edges whose weights fall below a
   certain threshold are removed from the network.</li>
</ul>
</li>
<li>
<p><code>cd_algorithm</code> : <code>str</code></p>
<ul>
<li>To choose community detection algorithm, possible values: ["leiden", "walktrap"]</li>
</ul>
</li>
<li>
<p><code>resolution_parameter</code> : <code>float</code></p>
<ul>
<li>Te resolution_parameter to use for leiden community detection algorithm. </li>
<li>Higher resolution_parameter lead to smaller communities, while </li>
<li>lower resolution_parameter lead to fewer larger communities.</li>
</ul>
</li>
<li>
<p><code>network_window</code>:</p>
<ul>
<li>The network that we construct from a corpus has terms as vertices. This decides the
       fixed sliding window of document. </li>
<li>Possible values: ["sentence", "5", "10"]</li>
<li>"sentence": two terms co-occur if they both occur in the same sentence.</li>
<li>"5" or "10": two terms co-occur if they both occur within a fixed-size sliding window over a document.</li>
</ul>
</li>
</ul>
<hr style="border: 2px solid grey">

<h3 id="method-fit"><u>Method: <code>fit</code> </u></h3>
<pre><code class="language-python">fit()
</code></pre>
<p>This method performs task of finding simple topics</p>
<hr style="border: 2px solid grey">

<h3 id="method-fit_hierarchical"><u>Method: <code>fit_hierarchical</code> </u></h3>
<pre><code class="language-python">fit_hierarchical(n_level=2)
</code></pre>
<p>This method performs task of finding hierarchical topics</p>
<h4 id="parameter">Parameter</h4>
<ul>
<li>
<p><code>n_level</code> : <code>int</code></p>
<ul>
<li>Number of level for hierarchical topics</li>
</ul>
</li>
</ul>
<hr style="border: 2px solid grey">

<h3 id="method-get_topics_words"><u>Method: <code>get_topics_words</code> </u></h3>
<pre><code class="language-python">get_topics_words()
</code></pre>
<p>Get topic words of flat topic modelling</p>
<h4 id="returns_1">Returns</h4>
<ul>
<li>
<p><code>topics</code> : <code>list of list</code></p>
<ul>
<li>Returns flat topics as topic words</li>
</ul>
</li>
</ul>
<hr style="border: 2px solid grey">

<h3 id="method-get_topics_words_topn"><u>Method: <code>get_topics_words_topn</code> </u></h3>
<pre><code class="language-python">get_topics_words_topn(n=10)
</code></pre>
<p>Get top n topic words of flat topic modelling</p>
<h4 id="parameter_1">Parameter</h4>
<ul>
<li>
<p><code>n</code> : <code>int</code></p>
<ul>
<li>top n topic words</li>
</ul>
</li>
</ul>
<h4 id="returns_2">Returns</h4>
<ul>
<li>
<p><code>topics</code> : <code>list of list</code></p>
<ul>
<li>Returns top n flat topics as topic words</li>
</ul>
</li>
</ul>
<hr style="border: 2px solid grey">

<h3 id="method-get_topics"><u>Method: <code>get_topics</code> </u></h3>
<pre><code class="language-python">get_topics()
</code></pre>
<p>Get topic as dictionary id</p>
<h4 id="returns_3">Returns</h4>
<ul>
<li>
<p><code>topics</code> : <code>list of list</code></p>
<ul>
<li>Returns flat topics as dictionary id</li>
</ul>
</li>
</ul>
<hr style="border: 2px solid grey">

<h3 id="method-get_topic_words_hierarchical"><u>Method: <code>get_topic_words_hierarchical</code> </u></h3>
<pre><code class="language-python">get_topic_words_hierarchical()
</code></pre>
<p>Get hierarchical topic as topic words</p>
<h4 id="returns_4">Returns</h4>
<ul>
<li>
<p><code>hierarchical_topics_words</code> : <code>dict of dict</code></p>
<ul>
<li>
<p>In following format (each level and topic in that level)-</p>
<p><code>{ 1 :   {"0": ['firm', 'company', 'economy',...],
         "1": ['country', 'china', 'bank'....], }
  .....},
  2 :   {"0": [''orders', 'spring', 'allies',...],
         "1": ['lawyer', 'individuals', 'failure'....], }
  .....},
  .....
}</code></p>
</li>
</ul>
</li>
</ul>
<hr style="border: 2px solid grey">

<h3 id="method-get_topics_hierarchical"><u>Method: <code>get_topics_hierarchical</code> </u></h3>
<pre><code class="language-python">get_topics_hierarchical()
</code></pre>
<p>Get hierarchical topic as dictionary id, and ig_graph of topic</p>
<h4 id="parameter_2">Parameter</h4>
<ul>
<li>
<p><code>n</code> : <code>int</code></p>
<ul>
<li>top n topic words</li>
</ul>
</li>
</ul>
<h4 id="returns_5">Returns</h4>
<ul>
<li>
<p><code>hierarchical_topics</code> : <code>dict of dict</code></p>
<ul>
<li>Returns top hierarchical topics as topic words</li>
<li>In following format (each level and topic in that level)-</li>
</ul>
<p><code>{
  1 : {"0": {'dict_num': [2, 147, 6, 1180, 327, ,....], 'ig_graph': object of ig_graph },
        "1": {'dict_num': [2, 147, 6, 1180, 327, ,....], 'ig_graph': object of ig_graph },
        .....},
  2 : {"0_0": {'dict_num': [2, 147, 6, 1180, 327, ,....], 'ig_graph': object of ig_graph},
       "0_1": {'dict_num': [2, 147, 6, 1180, 327, ,....], 'ig_graph': object of ig_graph},
       .....
       .....          
       "1_0": {'dict_num': [2, 147, 6, 1180, 327, ,....], 'ig_graph': object of ig_graph},
       "1_1": {'dict_num': [2, 147, 6, 1180, 327, ,....], 'ig_graph': object of ig_graph},
       .....},
  3 : {"0_0_0": {'dict_num': [2, 147, 6, 1180, 327, ,....], 'ig_graph': object of ig_graph},
       "0_0_1": {'dict_num': [2, 147, 6, 1180, 327, ,....], 'ig_graph': object of ig_graph},
      .....
      },
  ......
  }</code></p>
<p>Note, in above format each level has topic names as the key of dictionary.
      For example, level 1 has single digit value which specifies topics in that level
      level 2 has two values seperated by underscore, first value is super topic and second is child topic
      Similary, level 3 has three values, for which parent topics and current child topic</p>
</li>
</ul>
<hr style="border: 2px solid grey">

<h3 id="method-get_topics_hierarchical_1"><u>Method: <code>get_topics_hierarchical</code> </u></h3>
<pre><code class="language-python">get_n_level_topic_words_hierarchical(n_level=2)
</code></pre>
<p>Get first n number of levels from hierarchy</p>
<h4 id="parameter_3">Parameter</h4>
<ul>
<li>
<p><code>n_level</code> : <code>int</code></p>
<ul>
<li>top n level</li>
</ul>
</li>
</ul>
<h4 id="returns_6">Returns</h4>
<ul>
<li><code>topics</code> : <code>dict of dict</code></li>
</ul>
<hr style="border: 2px solid grey">

<h3 id="method-get_hierarchy_tree"><u>Method: <code>get_hierarchy_tree</code> </u></h3>
<pre><code class="language-python">get_hierarchy_tree()
</code></pre>
<p>This function is for visualisation purpose of hierarchical topics.</p>
<h4 id="returns_7">Returns</h4>
<ul>
<li><code>tree</code> : It returns a tree-like structure in dictionary format.</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../getting-started/" class="btn btn-neutral float-left" title="Getting Started"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../getting-started/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
